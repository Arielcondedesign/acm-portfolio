---
import '@fontsource/dm-sans/latin-ext-300.css';
import '@fontsource/dm-sans/latin-ext-600.css';
import Cookies from 'js-cookie';
import { ViewTransitions } from 'astro:transitions';
import Footer from '../components/layout/Footer.astro';
import Header from '../components/layout/Header.astro';
// 1. La prop frontmatter da acceso al frontmatter y otros datos
const { frontmatter } = Astro.props;    
---
<html lang="en" x-cloak x-data :class="{ 'dark': $store.theme.isDark }">
<head>
    <!-- Agrega otro elemento Encabezado aquÃ­, como estilos y etiquetas meta. -->
    <title>{frontmatter.title}</title>
</head>
<body
class="bg-primary-50 text-primary-950 dark:bg-primary-950 dark:text-primary-200 antialiased transition"
> <!-- 100% privacy-first analytics -->
<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
<noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>
<Header />
<main>
  <slot />
</main>
<Footer />
<style is:global>
  [x-cloak] {
    display: none !important;
  }
</style>
<script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="60961a70-3efc-4524-89e6-e206d9663c79" type="text/javascript"></script>
<script>
  import Alpine from 'alpinejs';
  import collapse from '@alpinejs/collapse';
  import Hotjar from '@hotjar/browser';

  const siteId = 5122615;
  const hotjarVersion = 6;

  Hotjar.init(siteId, hotjarVersion);

  Alpine.plugin(collapse);

  Alpine.store('theme', {
    init() {
      this.isDark = (() => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme') === 'dark';
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return true;
        }
        return false;
      })();
    },

    isDark: false,

    toggle() {
      this.isDark = !this.isDark;
      localStorage.setItem('theme', this.isDark ? 'dark' : 'light');
    },
  });

  window.Alpine = Alpine;
  Alpine.start();
</script>
</body>
</html>
